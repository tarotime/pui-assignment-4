<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Muddy Paws Adventure Gear</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <!-- javascript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="js/shoppingCart.js" type="text/javascript"></script>
  </head>

  <body>
    <!-- Cart bar -->
    <div id="cart-bar">
      <div class="container" id="cart-bar-display">
        <div id="cart-bar-links">
          <ul>
            <li>Sign In / Register</li>
            <a href="cart.html"><li id="nav-cart"><img src="images/cart.png" alt="cart" height="26" width="26"><span class="count-cart">X</span> items - $<span class="total-cart"></span></li></a>
          </ul>
        </div>
      </div>
    </div>

    <!-- Main nav -->
  	<div id="main-nav">
      <div class="container" id="navbar">
          <div id="logo">
            <a href="index.html">
              <img src="images/logo.png"></a>
          </div>

          <div id="nav-links">
            <ul>
              <li><a href="index.html">Home</a></li>
              <li><a href="products.html">Products</a></li>
              <li><a href="about.html">About</a></li>
            </ul>
          </div>

          <div id="search">
            <form>
              <input type="text" placeholder="    Search">
            </form>
          </div>

      </div>
  		
  	</div>

    <!-- Content -->
  	<div id="content">
      <div class="container" id="main-content">

        <div id="product-visuals">
          <div id="thumbnails">
            <img src="images/harness1.jpg">
            <img src="images/harness2.jpg">
            <img src="images/harness3.png">
          </div>
          <div id="main-image">
            <img src="images/harness1.jpg">
          </div>

          <div id="product-select">
            <h2 id="name" data-name="Dog Harness">Dog Harness</h2>
            <p id="price" data-price="22.99">$22.99</p>

            <div id="detail-select">
              <p>Size:</p>
              <select id="size-select">
                <option >Tiny</option>
                <option >Small</option>
                <option >Medium</option>
                <option >Large</option>
              </select>


              <p>Color:</p>

              <div id="colors">
                
                <select id="color-select">
                  <option value="Strawberry">Strawberry</option>
                  <option value="Blackberry">Blackberry</option>
                  <option value="Crazyberry">Crazyberry</option>
                  <option value="Camoflauge">Camoflauge</option>
                  <option value="Night Moon">Night Moon</option>
                  <option value="Fire Orange">Fire Orange</option>
                </select>
                

                
                  <img id="strawberry" src="images/strawberry.png" alt="Strawberry" title="Strawberry">

                  <img id="blackberry" src="images/blackberry.png" alt="Blackberry" title="Blackberry">

                  <img id="crazyberry" src="images/crazy.png" alt="Crazyberry" title="Crazyberry">

                  <img id="camoflauge" src="images/camo.png" alt="Camoflauge" title="Camoflauge">
                
                  <img id="night" src="images/night.png" alt="Night Moon" title="Night Moon">
                                  
                  <img id="fire" src="images/fire.png" alt="Fire Orange" title="Fire Orange">
                  

              </div> <!-- End .colors div -->
            </div>


            <button class="button">Add to Cart</button>
          </div>

        </div>

        <div id="product-details">
          <div id="description">
            <h3>Description</h3>
            <p>This Harness is a simple, easy-to-use harness that is extremely comfortable for your pet, no matter what the forecast is. Made from soft, breathable mesh, this lightweight harness allows moisture to escape, keeping your dog cool as he walks. It’s gentle against the skin and hugs your pet’s torso to provide a secure fit. The All-Season Pet Harness has a Velcro closure and quick-release buckle for fast and easy adjustment, and there are two D-rings for attaching a leash. With a range of sizes from tiny to large, you’ll get the perfect fit for your dog. </p>

              <p>Available in six colors: <br>
              Strawberry, Blackberry, Crazyberry, Camoflauge, Night Moon, and Fire Orange
            </p>
          </div>

          <div id="size">
            <h3>Size</h3>
            <table>
              <tr>
                <th>Size</th>
                <th>Chest</th>
              </tr>
              <tr>
                <td>Tiny</td>
                <td>12 - 13 inches</td>
              </tr>
              <tr>
                <td>Small</td>
                <td>13 - 16 inches</td>
              </tr>
              <tr>
                <td>Medium</td>
                <td>16 - 18 inches</td>
              </tr>
              <tr>
                <td>Large</td>
                <td>18 - 21 inches</td>
              </tr>
            </table>
          </div>
        </div>
  		</div>

  	</div>

    <!-- Footer -->
  	<div id="footer">

      <div class="container" id="footer-nav">
        <div id="footer-nav-links">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="about.html">About</a></li>
        </ul>
        </div>

        <div id="contact">
          <p>Muddy Paws Adventure Gear</p>
          <p>123 Bayard St <br>
            Pittsburgh, PA 15213</p>
          <p>412-555-6789</p>
        </div>

        <div id="social">
          <p>Find us on:</p>
          <img src="images/fb.png">
          <img src="images/instagram.png">
        </div>

  		</div>

      <div class="container" id="copyright"> 
        <p>© Copyright 2017 Muddy Paws Inc</p>
      </div>


  	</div> <!-- End footer -->

  <script type="text/javascript">
    $(document).ready(function() {
      $("select").change(function() {
        $("select option:selected").each(function() {
          if ($(this).attr("value") == "Strawberry") {
            $("#strawberry").css("border", "2px solid black");
            $("img:not(#strawberry)").css("border", "0");
          }
          if ($(this).attr("value") == "Blackberry") {
            $("#blackberry").css("border", "2px solid black");
            $("img:not(#blackberry)").css("border", "0");
          }
          if ($(this).attr("value") == "Crazyberry") {
            $("#crazyberry").css("border", "2px solid black");
            $("img:not(#crazyberry)").css("border", "0");
          }
          if ($(this).attr("value") == "Camoflauge") {
            $("#camoflauge").css("border", "2px solid black");
            $("img:not(#camoflauge)").css("border", "0");
          }
          if ($(this).attr("value") == "Night Moon") {
            $("#night").css("border", "2px solid black");
            $("img:not(#night)").css("border", "0");
          }
          if ($(this).attr("value") == "Fire Orange") {
            $("#fire").css("border", "2px solid black");
            $("img:not(#fire)").css("border", "0");
          }
        });
      }).change();
    });

    $(".button").click(function(event){
        event.preventDefault();
        var name = $('#name').attr("data-name");
        var price = Number($('#price').attr("data-price"));
        var size = $("#size-select").val();
        var color = $("#color-select").val();

        shoppingCart.addItemToCart(name, price, size, color, 1);
        displayCart();
    });

    $("#clear-cart").click(function(event){
        shoppingCart.clearCart();
        displayCart();
    });

    function displayCart() {
        var cartArray = shoppingCart.listCart();
        console.log(cartArray);
        var output = "";

        for (var i in cartArray) {
            output += "<li>"
                +cartArray[i].name
                +" <input class='item-count' type='number' data-name='"
                +cartArray[i].name
                +"' value='"+cartArray[i].count+"' >"
                +" x "+cartArray[i].price
                +" = "+cartArray[i].total
                +" <button class='plus-item' data-name='"
                +cartArray[i].name+"'>+</button>"
                +" <button class='subtract-item' data-name='"
                +cartArray[i].name+"'>-</button>"
                +" <button class='delete-item' data-name='"
                +cartArray[i].name+"'>X</button>"
                +"</li>";
        }

        $("#show-cart").html(output);
        $(".count-cart").html( shoppingCart.countCart() );
        $(".total-cart").html( shoppingCart.totalCart() );
    }

    $("#show-cart").on("click", ".delete-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.removeItemFromCartAll(name);
        displayCart();
    });

    $("#show-cart").on("click", ".subtract-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.removeItemFromCart(name);
        displayCart();
    });

    $("#show-cart").on("click", ".plus-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.addItemToCart(name, 0, 1);
        displayCart();
    });

    $("#show-cart").on("change", ".item-count", function(event){
        var name = $(this).attr("data-name");
        var count = Number($(this).val());
        shoppingCart.setCountForItem(name, count);
        displayCart();
    });


    displayCart();
    </script>


  </body>
</html>